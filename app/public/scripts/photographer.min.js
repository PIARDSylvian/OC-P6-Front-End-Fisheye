class PhotographerModelPage extends AbstractModelPhotographer{constructor(t){super(t),this._picture="assets/photographers/Photographers ID Photos/"+t.portrait,this._id=t.id,this._city=t.city,this._country=t.country,this._tagline=t.tagline,this._price=t.price}getUserPageDOM(){return new PhotographerTemplatePage(this).getRender()}}class PhotographerTemplatePage extends AbstractTemplatePhotographer{constructor(t){super(t),this._id=t._id,this._city=t._city,this._country=t._country,this._tagline=t._tagline,this._price=t._price}getRender(){var t=super.getRender(),e=t.querySelector("img"),i=(e.setAttribute("alt",this._name),e.classList.add("photographer__picture"),document.createElement("div")),t=t.querySelector("h2"),t=(t.classList.add("photographer__title"),i.appendChild(t),document.createElement("p")),t=(t.textContent=this._city+", "+this._country,t.classList.add("photographer__location"),i.appendChild(t),document.createElement("p")),t=(t.textContent=this._tagline,t.classList.add("photographer__tagline"),i.appendChild(t),document.createElement("p"));return t.textContent=this._price+"€/jour",t.classList.add("photographer__price"),{image:e,info:i,price:t}}}function getUrlParmeterId(){return window.location.hash.substring(1)}async function getPhotographer(i){return await getPhotographers().then(t=>{let e;return t.photographers.forEach(t=>{t.id==i&&(e=t)}),e.media=[],t.media.forEach(t=>{t.photographerId==i&&e.media.push(t)}),e})}async function displayData(t){var e=document.querySelector(".photographer__header"),i=photographerFactory(t,t.id).getUserPageDOM();e.prepend(i.info),e.append(i.image),console.log(t.media),console.log(i.price)}function CustomSelect(t,e,i){this._data=i,this._id=t,this._name=e,this._idx=0;const r=()=>{const r=document.createElement("ul");return r.setAttribute("id","listbox_"+this._id),r.setAttribute("role","listbox"),r.setAttribute("aria-labelledby","label_"+this._id),r.setAttribute("tabindex",-1),this._data.map((t,e)=>{var i=document.createElement("li");i.setAttribute("id",this._id+"_"+e),i.setAttribute("role","option"),i.setAttribute("aria-selected",""+(0===e)),i.dataset.value=e,i.innerText=t,0===e&&i.classList.add("select"),r.append(i)}),r},a=(t,e)=>{switch(t){case"ArrowDown":return this._idx==e.length-1?s(0,e):s(this._idx+1,e),!0;case"ArrowUp":return 0==this._idx?s(e.length-1,e):s(this._idx-1,e),!0;case"Enter":case" ":return n(e[this._idx],e),!1;default:return!1}},s=(t,e)=>{this._idx=t,e.forEach((t,e)=>{e!==this._idx?t.classList.remove("select"):t.classList.add("select")})},n=(e,t)=>{const i=document.querySelector("#listbox_"+this._id);t.forEach(t=>{t!==e&&i.appendChild(t)}),"false"===e.ariaSelected&&t.forEach(t=>t.ariaSelected=e===t)};{(t=document.createElement("label")).innerText=this._name,t.setAttribute("id","label_"+this._id),t.setAttribute("for",this._id);const o=document.createElement("button"),c=(o.setAttribute("id",this._id),o.setAttribute("role","button"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded",!1),o.setAttribute("aria-controls","listbox_"+this._id),o.setAttribute("aria-labelledby","label_"+this._id),o.setAttribute("tabindex",0),o.setAttribute("type","button"),o.innerText=i[0],r());return(e=document.createElement("div")).classList.add("custom_select"),e.append(t,o,c),o.addEventListener("blur",function(){c.classList.contains("is-open")&&(o.style.display="none")}),c.addEventListener("blur",function(){c.classList.remove("is-open"),o.style.display="block",this._idx=0,o.innerText=c.querySelector('li[aria-selected="true"]').innerText,o.setAttribute("aria-expanded",!1)}),o.addEventListener("click",function(t){c.classList.add("is-open"),o.setAttribute("aria-expanded",!0),1==t.pointerId&&c.querySelector("li").classList.remove("select"),c.focus()}),c.addEventListener("keydown",function(t){var e=c.querySelectorAll("li");a(t.key,e)||c.blur()}),c.addEventListener("click",function(t){var e=c.querySelectorAll("li");n(t.target,e),c.blur()}),e}}async function init(){displayData(await getPhotographer(getUrlParmeterId()));var t=new CustomSelect("sort_by","Trier par",["Popularité","Date","Titre"]);document.querySelector(".photographer__section nav").append(t)}init();